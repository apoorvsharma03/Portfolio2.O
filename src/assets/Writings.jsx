import React from 'react'
import { useState, useEffect, useRef } from 'react'
import ContentHeading from '../utilities/ContentHeading'
import WritingCard from '../utilities/WritingCard'

const Writings = () => {
    const [isVisible, setIsVisible] = useState(false);
    const writingRef = useRef(null);

    const writing1 = {id: 1, tag: 'Poem', title: 'A Tale of Gold and Curse', text: `PART I:\n\nThe court was set, the king had sat upon his throne of gold\nAs bells were rung and songs were sung, the show began to unfold\nThe doors swung wide as guards stood tall to let the crowd stream in\nThe monks and saints and thieves and bards, all entered, keen to win\n\nT’was a tale-telling fest where whoever came out best\nwould win the gold as much was told, his pockets deeply blessed\nSo the first one up walked on the rug and started with his tale\nAs he was heard, all word by word, until the last detail.\n\nThe king then stood, “Thou wert good, but let us hear the rest\nFor he shall win, whose story will leave us the most impressed.”\nAnd then the next came with his text, for he was sure he’d win\nHe cleared his throat and set his coat and got all set to begin\n\nAnd then the next and so the rest of all had come and spoke\nBut none could sway the king that day; his verdict still bespoke\nAt last in came a ragged frame, a beggar, bent and pale\nWith a limping walk and a mystic gawk, he drew his tattered veil\n\n“Sit back o’ king and let me sing a tale of gold and curse\nOf riches unseen, unheard, obscene, of greed that turned for worse\nBeyond the walls, beyond the shores, beyond the raging sea\nThere lies a land of blackened sand that no man is meant to seek\n\nPART II:\n\nMy old man said his old man had lived his life off land\nSaid in the sea, he wandered free, sailing from sand to sand\nEre his death called me and said, “Hear me close O lad\nbeyond the lands, on darkened sands, lies riches gods once had.”\n\nYears wore out, his words still loud, I finally found a crew\nand sailed off shore, in hunt for more than anyone ever knew\nAnd then one day, we found the strand, its sands a shade of grey\nThat caught our eyes, and in one sigh, we jumped upon the bay\n\nWe looked around and so we found a cavern draped in moss\nBehind a tall waterfall, which had a distinct gloss\nIn we went, with curious intents, not sure what we would find\nInside, we saw, our eyes in awe, a sight that baffled our minds.\n\nRight on the ground, spread all around, were heaps and heaps of gold\nIt was a scene like none had seen or heard in tales retold\nOur mirth was voiced, we danced and rejoiced for the old man turned out right\nWe filled our sacks, pockets, and bags with gold, in glee and delight\n\nPART III:\n\nAs avarice swelled, our bags o’erfilled, yet still we crammed in more\nJust one more gem and one more coin and pearls picked off the floor\nOur gaze so fixed, we wholly missed the eyes that looked at us\nAround and close, in the shadows, a quiet figure lurked thus.\n\nMy greed-filled herd didn’t heed the word of the white eyed silhouette\n“I’ll let you go, a condition though, which you mustn’t forget\nTake only what you think you’re worth and not a trinket more\nFor if you yearn riches unearned, you'll regret it evermore.”\n\nBut deaf were we to his decree as we looted more and more\nThen took our bags, which stooped our backs, and moved towards the shore\nOutside we stepped, the fall, now red, and skies were full of dark\nWith a weight, I knelt, unright I felt with a sharp twinge in my heart.\n\nSomething was wrong, and all along, I knew it to be so\nBut still deterred, we all concurred - with all our gold we’d go.\nAnd so we sailed, our quest unfailed, our pockets bulged with loot\nOut to the sea, in mirth and glee, quaffing kegs en route.\n\nPART IV:\n\nIt wasn’t long since we had gone when the waves began to rise\nThe sky grew black, the winds did crack, as lightning lit the skies\nOur sturdy ship, with every dip, groaned as it fought the sea\nIt lurched and rolled, sailed uncontrolled, as our gold laughed mockingly.\n\nThat baleful night, the moon so white, we all were sick and pale\nThus, I was sure, out of that shore, the curse had stalked our trail.\nBut it was late, our bags bore weight of gold we did not deserve\nand sickness spread, I quailed with dread, frozen in steps, unnerved.\n\nPeople huffed as fever struck, and to each and all it spread\nand soon enough, with ague and cough, most of we dropped down dead.\nThe skies still roared as malice soared, and thunders began to swell\nThen lightning struck, with force and stuck, hitting our caravel.\n\nIt tore a crack and my sickened pack, we wailed and scrambled around\nOur cries unheard, our ends averred as our boat, it slowly drowned.\nSoon enough, my crew, so tough, all died and lost in wreck\nAs I held fast to the broken mast, upon the foundering deck\n\nOur barrels rolled, opened, and poured out all our rum and ale\nFrom a torch exposed, a fire arose across the deck and sail\nI turned around, and what I found made me tremble and crack\nAs the fire swelled, my shadow fell - two white eyes staring back\n\nI found my nerves, then gathered words and asked the silhouette\n“My mates all gone, my boat all torn, then why am I breathing yet?”\nMy shadow spoke, from me it broke, and stood upright did he \n“Their curse was death, painful with dread, before they left the sea.”\n\nI looked at he, “And what’s of me? What curse lies in my luck?\nWill I be flamed, or the sea has claimed my flesh after I’m sunk?”\nIts eyes grew brighter, “Of them, neither. You will not die today.\nBack to your land, you will be damned to speak your lore away\n\nYou’ll tell your tale, your eyes shall quail, but your words will let all know\nOf the blackened sands, beyond your lands, with riches to mend all woe.” \nWhat happened next, I know not best, I woke up morrow on land\nNo bags of gold, no gem to hold, no coin weighing down my hand.”\n\nPART V:\n\nThe court was stilled, no word had spilled as the tattered tramp hath spoke\nA moment passed, and then at last, the reverent silence broke\nThe king stood up, his voice a cup of laugh and mocking cheer\n“Oh, beggar mine, this fable of thine, I’m glad that we could hear\n\nOf all we heard, all tales conferred, but none could best thy lore\nThus, you’ve won, your story earned you riches and gold galore.”\nThe beggar smiled, his weary eyes alight with something strange\nno victory laugh, no mirthful chaff, the beggar stood estranged\n\nBut then he spoke, no laugh, no joke, “I’ve held more in my hand\nthan any of you, have heard or knew, or can truly understand\nI jest not once nor boast for fun my tale not made of lies\nThe hoard still stored beyond the shore, on blackened sand it lies.\n\nSo keep your gold, and have your hold on greed, O courtly men\nI warn you all, I’ve had my call, and I shan’t be bound again.”\nHe turned and left, the court bore heft of the words the man had spoke\nAs silence swept, no whisper crept as all stood wide awoke.`}
    const writing2 = {id: 2, tag: 'Story', title: 'The Tree in the Sands', text: `It had been an hour of aimless wandering in the hot desert. Matt took the last sip of water left in the bottle. Why did he have to part with the group in the first place? Was every little 'off-trail' adventure necessary? He questioned his actions for the hundredth time. He knew bickering wouldn't help, yet he grumbled again and again. The desert was driving him crazy. The overhead sun sucked the life out of him as the sparkling sands blinded his eyes.\n\nHe huffed and puffed as he dragged his feet on the ever-fading trail. He hadn't seen any sign of life in a while. No snake slithered on the arid soil and no lizard crawled out of the yellow sand. He had lost all hope and was about to lose his sanity when he spotted... a tree! A simple, ordinary tree, it was, with a trunk so thick that Matt couldn't even surround it with his hands. It was the first sign of life Matt had seen in an hour. It was like reuniting with a long-lost friend. A friend whom you don't remember much about, but would want to know better. There was nothing extraordinary about it, though. It was just a big, old tree. But for Matt, it outshone the dazzling sands and the bright sun. The fact that it existed in a biome so barbarous made it nothing less than extraordinary. There was no plant, lest another tree nearby. No sign of any vegetation. Nor was there any water body nearby. Only dry, arid soil covered the area. But still, the tree lived.\n\nThe kindred hues of green leaves looked so vibrant at the time. It was a miracle that a life had thrived there for years. Maybe not thrived but survived. The tree had stood its ground against all odds. It was like a lone wolf battling the mighty desert. It didn't have an arsenal of weapons but a lot of determination. The war, however, had left a lot of scars as well. The dried fallen branches under the tree reminded of the wounds it had suffered. They spoke of the countless times the desert had tried to uproot it with sandstorms and heavy winds. But the tree didn't give up. The new, tender branches spoke for it. The tree wasn't ready to give up. Not yet. The wrinkles on the trunk trapped years of battling experience. They accounted for years of struggle the Tree had faced. But they also showed the years of resilience the tree had shown.\n\n'With will comes the power to stand against adversities and overcome them'\n\nThe tree personified this line with utmost accuracy. The suffering has been long... very long..... but the tree is implacably determined to not lose. The war is raging and maybe the nature's wrath will overcome it someday, but the tree will go knowing it did its best. Knowing it stood high when no other could. Knowing it outdid itself.\n\nMatt's thoughts were interrupted by a jeep horn. He turned and saw his friends in a jeep coming toward him.\n\n"Thank God! Matt, you're Ok. We were worried sick for you" Linda let out.\n\nMatt smiled and started walking towards the vehicle. He turned back to take the last look at his newfound friend. Just then, a dry gust flew and a leaf fell off the tree. It sailed the wind and landed in Matt's hands, who caught it very cautiously. Perhaps it was a parting gift from a friend he might never meet again. Funny how he prayed and prayed for someone to rescue him but now that his friends had come, he was reluctant to go. He was reluctant to leave such a marvelous creation of mother nature. A masterpiece carved by the earth itself but which might never come forth into the world. The desert was covered with gilded sands but the real gold was the big, old tree with a trunk so thick.`}
    const writing3 = {id: 3, tag: 'Poem', title: 'People Come and People Go', text: `People come and people go,\nWell what can you do, its a flow\nSome may stay and some may leave,\nWhile some are just a reward you reap.\n\nPeople come and people go,\nAs seasons change from sun to snow\nBut autumns and springs too come along,\nWhom you hope could stay for long.\n\nPeople come and people go, \nAs you reap of what you sowed\nSome may fade in the morning glaze,\nWhile some may shine on the darkest days.\n\nPeople come and people go,\nDancing with time, to and fro\nSome leave footprints on the sands,\nWhile some fade off like whispers on land.\n\nPeople come and people go, \nAs you face your highs and lows\nCherish your present and treasure your past\nAnd make new memories and make them last.\n\nPeople come and people go,\nIts a ceaseless ebb and flow\nSo keep a smile and always know, \nThat people come and people go.`}
    const writing4 = {id: 4, tag: 'Story', title: 'The Hero Of Azerim', text: `(Note: Most of the characters are inspired by the YouTube web series Epic NPC Man by Viva La Dirt League—a fun and entertaining series well worth checking out!)\n\nThe great marble sculpture glittered as the setting sun shone behind him like he was a divine creation. His head looked up, sword put down and shield on the back, looking at the golden sky from the center of the town square. Little Timmy ran around him playing with his friends while his Grandma sat on a distant bench watching over them. It was a pleasant evening in the town of Honeywood, except the sun was more crimson. Baelin, the fisherman, was returning home. Greg, the garlic farmer, was trading with passersby outside his shop. Bodger, the blacksmith, looked extra busy, though. Timmy got tired and went to sit by his grandma. Looking at the statue, he asked her,\n\n"Granny, whose statue is this, and why does he have a statue? I want one too..."\n\nHis granny laughed and said, "Son, this is no ordinary man. He did something audacious to earn a statue for himself. You'll have to do something very brave, too, if you want a statue."\n\n"What did he do that was so brave, granny?" Timmy asked, a little confused.\n\nGranny smiled and started, "This brave man, Timmy, is the Hero of Azerim! Not too long ago, our Azerim wasn't such a happy place. The dark lords terrorized us. It was this brave man who defended us, fought for us, and banished the dark lords till the end of eternity. He brought peace to the country folks and he is the reason why the souls of the damned don't wander around our lands anymore. Today's Azerim is very different than what it used to be. Times have changed...\n\nThe adventurer, as he was often called, came from a far-off land... from even beyond Azerim, some might say. He just appeared one day on the outskirts of Honeywood. Greg, the garlic farmer, was the first to meet him. The adventurer helped Greg carry his garlic sacks back to his shop, for which Greg rewarded him. The adventurer didn't have a destination or a specific reason to be in Honeywood. He just helped the locals in their chores, and they rewarded him with gold coins. Soon, the word about this mysterious man spread from Honeywood to Delethin to Alderkeep to the whole of Azerim. Requests came in for the adventurer, to which he never refused. He escorted civilians through dark forests, protecting them from the damned souls and orcs. He rescued the men and women who were kept captive by bandits. He gathered rare ingredients to make different kinds of magical potions. And while doing these adventures, he learned and grew. His unfailing success earned him recognition from men and creatures across the land. But, while many praised his talents, others resented the changes he brought. These included the forces that fed on the chaos and fear spread across the entirety of Azerim. The bandits couldn't loot the travelers in the lightwood forest as they were protected by the adventurer. The orcs couldn't destroy the towns as they feared getting hunted down. But orcs and bandits were the least of the powerful forces rising against the newfound peace. The dark lords were starting to take notice. With the advent of the adventurer, the fear and chaos the dark lords fed upon were starting to fade. So, to restore their hand on the lands, the dark lords planned to summon Tzorrak, the forgotten god of destruction. Legends say that Tzorrak could kill a thousand rangers with a single blow of his burning sword. If the dark lords had gained command over such a power, Azerim would have become but a burning wasteland in no time. But summoning Tzorrak required thousands of trapped souls sealed in an urn crafted from the great tree's wood and there weren't enough wandering souls for the dark lords to capture. So the Dark Lords planned a massacre across Azerim. A holocaust that would have scarred our Azerim for centuries to come. Tzorrak's destruction would have sent us to live in exile, if we were to survive, that is. But the high sorcerer Baradun got a hint of their plans through the watchful spirits he commanded. And while the high sorcerer could have defended us against an army of orcs, he knew he would stand no chance against the dark lords with Tzorrak at their command. That is when he revealed the dark lords' intentions to the adventurer and asked for his help. The adventurer, ever valiant, agreed to help Baradun. While the adventurer had never failed a task before, this time, it was different. This time, the stakes were as high as they could ever be. The fate of every soul depended on the outcome of the battle that was approaching inevitably, tick by tock. The adventurer traveled across the mountains and the rivers across all of Azerim, preparing for his one last duty. He ventured through the dead forest to gain the blessings of Auril, the goddess of cold and night. He scavenged the rarest of the herbs to make mythical potions of unknown strengths. He trained with the high sorcerer to master the mystic arts, and he assembled the rangers from the guild along with all the wizards and vigilantes from across Azerim. Alas, he had created an army to defend our Azerim. Not just any army, but the biggest one in the long-remembered history of our land. Those who saw the army said they had never seen men and beasts exist in such harmony. Leading them at the very front was the adventurer, his head looked up, sword put down and shield on the back, looking at the golden sky, awaiting the enemy.\n\nAn army this massive defending our land suggested a certain victory. And it would have been, but the dark lords had been preparing as well. They brought an army of their own. Along with the dark lords marched the orcs of Schmarganrog, the corrupted giants, and the spirits of the damned. The ones who observed their march from over the mountains described feeling a sudden sensation of fear and dread. The air itself became frosty, and the ground became lifeless. Both the armies faced each other and so commenced what could only be described as the war that would decide the fates of all. The men and the beasts fought bravely, treading over the bodies of their fallen comrades. The battle raged for what felt like eternity and alas only a few were left on either side. By now the adventurer and the high sorcerer had felled the dark lords until only one of them remained. But who remained standing was the most powerful among them all. Baradun, battered and bleeding, had to withdraw. So, there was just the adventurer left, scarred but ready to take on the last remaining dark lord. Both the fighters locked eyes, readied their weapons, and bolted towards each other. They fought as the remaining armies couldn't help but spectate what was unfolding in front of them. Spells that were never heard of were being cast, only to be deflected by an even more powerful spell. The sword of the adventurer flamed brighter with every swing as if it craved the dark lord's head. The dark lord's scythe glowed in equivalence. The valley echoed with thunderous drumbeats with each strike and spell cast. The fight never shifted to a side and it had been an hour. By now, both the fighters were starting to wear out. The dark lord, with a final attempt to end it all, transferred the dark magic in his veins to his scythe. The scythe's glow turned from purple to black. Runes pulsating with a dark aura appeared on it as the dark lord readied himself in his final stance. The adventurer, too, prepared to land his last hit. He drew a slow breath as he chanted the last of his spells. The flames around his sword turned from yellow to crimson to red, raging as if it bore the hopes of all of Azerim. Everyone looked with awe and no one dared to move as the valley went quiet. Both the fighters locked eyes, gripped their weapons, and got ready to charge. Roaring, they dashed as the ground beneath them trembled with the immense power they both withheld. Their weapons dispensed opposing energy as they sliced through the surrounding air to land their final blows and clang!\n\nEveryone looked as the smoke cleared, revealing the victor. The adventurer had sliced off the dark lord's head. The thundering clouds cleared as the people processed what they had just witnessed. The roars of victory swept across the entire valley. Their cries could be heard over the mountains as they had won. We had won. Azerim had won.\n\nAnd that is why, Timmy, we built this statue to commemorate him."\n\n"Wow! So where is he now, granny? I want to meet him!" cried Timmy\n\n"After the battle, the adventurer came back to Honeywood to heal. Once recovered, the adventurer left the town but was never to be seen again. Some say he retired to the frozen mountains while others say he died of illness. Some also believe that there are lands beyond Azerim and that's where the adventurer went. But nobody knows for sure what happened to him. Wherever he might be now, I pray that the gods bless him for he is the reason Azerim is what it is now." Granny told Timmy as the sun set across the horizon. Both of them went back to their house as the townsfolk prepared for the night. Timmy took a last look at the statue when he saw a silhouette standing on top of it, looking back at him. He smiled as he knew the story had not yet ended.`}
    const writing5 = {id: 5, tag: 'Poem', title: 'Midnight Reverie', text: `When the sun sets down and the stars spark white\nAnd the world gets tugged in the quilt of night\nWith all doors locked and lights turned off\nI close my eyes as my mind runs wide\n\nMy thoughts begin to roam and tear\nAs my mind races with the memories of fear\nMemories of joy, memories of past\nand memories I wish for ever would last\n\nThe clock's ticking, my thoughts slipping\nand memories digging out of their graves\nMy mind's dipping, my head's spinning\nas emotions flood in waves of waves\n\nThe night seems endless, never-ending\nas I try to find some solace, mending\nmy spirit, still unbroken, yet lost somewhere\nas my thoughts reflect in all their bare\n\nbut as the night wears on and darkness reigns\nMy mind begins to ease its strains\nFor though my thoughts may run amiss\nI know that dawn will bring me bliss\n\nSo as I close my eyes to sleep\nI pray my soul will gently keep\nAnd when the morning light does break\nI'll rise anew, with hope awake`}
    const writing6 = {id: 6, tag: 'Poem', title: 'My Journey With Rhymes', text: `Things I wrote, things I thought\nInto my life, the things I brought\nThe rhymes I said, the rhymes I read\nAll those rhymes inside my head\n\nI cherished my time whenever I wrote\nI wrote at times when I had the blues\nI wrote my thoughts, I wrote my views\nI wrote my imagination with all its hues\n\nMy imagination, I wrote it down\nSome with a smile, others with a frown\nA couple in the day, most at night\nOn my desk, under a lamp's light\n\nOften I couldn't make a verse\nI'd scratch my head for a very long time\nAnd work my head till it hurt\nand still don't end up with a rhyme\n\nSome days I wonder why I write\nIs it always fun, well, not quite\nBut when at the end product, I look\nit takes me back at what it took\n\nAll those hours to find one word\nThat one word unlike the rest\nThat one word I thought I heard\nThat one word which fits the best\n\nAll those pages I tore and threw\nAll those lines that didn't fit well\nAll those words that didn't make through\nAll those rhymes I never could tell\n\nWriting something is a ride somewhat\nA ride of your mind, your views, your thought\nIt has it's thrill, it has it's fun\nIt has it's pain, it has it's turns\n\nA blessing you gave to me, my god\nFor I can pen my thoughts my way\nA passion I've truly enjoyed a lot\nAnd will do until the very last day.`}
    const writings = [writing1, writing2, writing3, writing4, writing5, writing6]

    useEffect(() => {
      const handleIntersect = (entries) => {
        const entry = entries[0];
        setIsVisible(entry.isIntersecting);
      };

      const observer = new IntersectionObserver(handleIntersect, {
        threshold: 0.1,
        rootMargin: '0px 0px -10% 0px'
      });

      if (writingRef.current) {
        observer.observe(writingRef.current);
      }

      return () => {
        if (writingRef.current) {
          observer.unobserve(writingRef.current);
        }
      };
    }, []);
    
  return (
    <div id='WRITINGS' className='pt-4 mb-24 flex justify-center'>
        <div className='w-[80vw] md:w-[60vw]'>
            <div className='bg-transparent'>
                <ContentHeading>WRITINGS</ContentHeading>
            </div>
            <h2 className='text-cyan-600 mt-4'>I've alwyas loved writing literature, especially shorter pieces like poems and short stories. Below are some of my works. Have a read and enjoy! <br /><br /> PS: Suggestions are always welcome!</h2>
            <div ref={writingRef} className='flex flex-col gap-4 mt-4'>
                {writings.map((writing, index) =>{
                    const animationWritings = {
                        transform: isVisible ? "translateX(0)" : "translateX(-50vw)",
                        opacity: isVisible ? 1 : 0,
                        transition: "transform 1s ease-in-out, opacity 1s ease-in-out",
                        transitionDelay: `${index * 100}ms`
                    };
                    return (
                        <WritingCard key={writing.id} props={writing} style={animationWritings}/>
                    )
                })}
            </div>
        </div>
    </div>
  )
}

export default Writings